# ANEL â€” æ™ºèƒ½ä½“åŸç”Ÿæ‰§è¡Œå±‚

> å¤§æ¨¡å‹ä»€ä¹ˆéƒ½èƒ½æƒ³åˆ°ï¼Œå´éš¾ä»¥å¯é åœ°æ‰§è¡Œ â€”â€” å› ä¸ºæ‰§è¡Œå±‚ä»æœªä¸ºæ™ºèƒ½ä½“è®¾è®¡è¿‡ã€‚ANEL ç”¨ Unix ç®¡é“ã€NDJSON æµã€é›¶ä¿¡ä»»æ²™ç®±å’Œè‡ªæ„ˆé”™è¯¯åè®®ï¼Œä¸º AI æ™ºèƒ½ä½“æ„å»ºäº†ä¸€å¥—çœŸæ­£èƒ½ä¸Šæ‰‹æ“ä½œçš„æ‰§è¡Œå±‚ â€”â€” ä»"èŠå¤©å¯¹è¯"èµ°å‘"å¯æ§æ‰§è¡Œ"ã€‚

[English](README.md)

[![Rust](https://img.shields.io/badge/Rust-000000?logo=rust&logoColor=white)](#rust-æ¨è)
[![TypeScript](https://img.shields.io/badge/TypeScript-3178C6?logo=typescript&logoColor=white)](#typescript)
[![Go](https://img.shields.io/badge/Go-00ADD8?logo=go&logoColor=white)](#go)
[![Python](https://img.shields.io/badge/Python-3776AB?logo=python&logoColor=white)](#python)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](LICENSE)


![ANEL æ¶æ„](imgs/ANEL-zh.jpeg)

> **é˜…è¯»æ›´å¤š**ï¼š[æ™ºèƒ½ä½“åŸç”Ÿæ‰§è¡Œå±‚ (ANEL) æ¶æ„å®£è¨€](docs/ANEL/â­%20æ™ºèƒ½ä½“åŸç”Ÿæ‰§è¡Œå±‚%20(ANEL)%20æ¶æ„å®£è¨€%20v1%200â€”â€”%20AGI%20æ—¶ä»£çš„"æ•°å­—èº¯ä½“"é‡æ„.md)

---

## ç—›ç‚¹ â€” ä¸ºä»€ä¹ˆéœ€è¦ ANEL

æˆ‘ä»¬æ‹¥æœ‰äº†çˆ±å› æ–¯å¦èˆ¬çš„å¤§è„‘ï¼ˆGPT-4ã€Claudeã€LLaMAï¼‰ï¼Œå´åªèƒ½é€šè¿‡æ‘©å°”æ–¯ç”µç ï¼ˆJSON Schemaï¼‰æ¥æŒ‡æŒ¥å®ƒå¹²æ´»ã€‚

å½“å‰æ™ºèƒ½ä½“ä¸å·¥å…·çš„äº¤äº’æ–¹å¼å·²ç»ç ´ç¢ï¼š

```python
# ä»Šå¤©æ™ºèƒ½ä½“è°ƒç”¨å·¥å…·çš„æ–¹å¼ â€”â€” è„†å¼±ä¸”ç›²ç›®
result = subprocess.run(["grep", "-r", "TODO", "."], capture_output=True, text=True)
# stdout: çº¯æ–‡æœ¬ã€‚æ²¡æœ‰ Schemaã€‚æ²¡æœ‰ç»“æ„ã€‚
# å¤±è´¥: returncode == 1ã€‚æ™ºèƒ½ä½“åªçŸ¥é“è¿™äº›ã€‚
# å‘ç°: ä¸å¯èƒ½ã€‚æ™ºèƒ½ä½“æ— æ³•å­¦ä¹  grep æ¥å—ä»€ä¹ˆå‚æ•°ã€‚
# å®‰å…¨: å®Œæ•´ç”¨æˆ·æƒé™ã€‚æ²¡æœ‰æ²™ç®±ã€‚
```

è¿™å°±æ˜¯**"è®¤çŸ¥-æ‰§è¡Œé¸¿æ²Ÿ (Cognitive-Execution Gap)"** â€”â€” LLM èƒ½æ¨ç†çš„å’Œå®ƒå®é™…èƒ½åšçš„ä¹‹é—´çš„æ·±æ¸Šï¼š

- **è¿‡åº¦æ‹Ÿåˆçš„ API è°ƒç”¨**ï¼šTool Callingï¼ˆMCPã€Function Callingï¼‰æœ¬è´¨ä¸Šæ˜¯æŠŠå¤æ‚çš„ä¸šåŠ¡é€»è¾‘ç¡¬å¡è¿› JSON ç»“æ„é‡Œã€‚Agent è¢«è¿«èŠ±è´¹å¤§é‡ Token å»ç†è§£å‚æ•°å®šä¹‰ï¼Œè€Œä¸æ˜¯ä¸“æ³¨äºè§£å†³é—®é¢˜ã€‚
- **ç¼ºä¹åŸå­æ€§ä¸ç»„åˆæ€§**ï¼šå·¥å…·æ˜¯å­¤ç«‹çš„é»‘ç›’ã€‚Agent æ— æ³•åƒ Unix å·¥ç¨‹å¸ˆé‚£æ · `search | filter | transform` æµç•…ä¸²è”ã€‚å®ƒè¢«å›°åœ¨"æ€è€ƒ-è°ƒç”¨-ç­‰å¾…-è§£æ"çš„å¾ªç¯é‡Œã€‚
- **è„†å¼±çš„äº¤äº’ç•Œé¢**ï¼šé”™è¯¯ä¿¡æ¯æ˜¯ç»™å¼€å‘è€…çœ‹çš„å †æ ˆä¿¡æ¯ï¼Œä¸æ˜¯ç»™æ™ºèƒ½ä½“çš„ç»“æ„åŒ–åé¦ˆã€‚å‡ºé”™æ—¶ï¼ŒAgent æ— æ³•è‡ªæˆ‘ä¿®æ­£ï¼Œåªèƒ½é™·å…¥æ­»å¾ªç¯ã€‚
- **å°è£…é™·é˜± (The Wrapper Trap)**ï¼šAgent è¢«é”æ­»åœ¨é¢„å…ˆç¼–å†™çš„ Python å‡½æ•°é‡Œã€‚å¦‚æœç¨‹åºå‘˜æ²¡æœ‰é¢„è®¾æŸä¸ªç”¨ä¾‹ï¼ŒAgent å°±æ˜¯çå­ã€‚æ²¡æœ‰æ¢ç´¢ï¼Œæ²¡æœ‰å‘ç°ã€‚

```
ç°çŠ¶:                               ä½¿ç”¨ ANEL:

Agent â”€â”€subprocessâ”€â”€> Tool          Agent â”€â”€ANID åè®®â”€â”€> Tool
       çº¯æ–‡æœ¬ <â”€â”€                          NDJSON æµ <â”€â”€
       exit code 1 <â”€â”€                     RFC 7807 é”™è¯¯ <â”€â”€
       (æ—  Schema)                         + è‡ªæ„ˆå»ºè®®
       (æ— æ²™ç®±)                            + WASI æ²™ç®±
       (æ— è¿½è¸ª)                            + é“¾è·¯è¿½è¸ª
       (æ— ç»„åˆæ€§)                          + Unix ç®¡é“ç»„åˆ
```

**å¦‚æœ LLM æ˜¯å…¨æ–°çš„ CPUï¼Œé‚£æˆ‘ä»¬ç°æœ‰çš„ API å°±æ˜¯æ—§æ—¶ä»£çš„ç£å¸¦æœºã€‚æˆ‘ä»¬éœ€è¦æ€»çº¿çº§çš„é€Ÿåº¦å’Œæ ‡å‡†ã€‚è¿™å°±æ˜¯ ANELã€‚**

---

## ä»€ä¹ˆæ˜¯ ANEL â€” æ ¸å¿ƒå“²å­¦

**ANEL æ˜¯ä¸“ä¸º AI æ™ºèƒ½ä½“ä¸å·¥å…·äº¤äº’è€Œè®¾è®¡çš„æ ‡å‡†åŒ–æ‰§è¡Œå±‚ â€”â€” ç±»ä¼¼äº POSIX æ ‡å‡†åŒ–äº†ç¨‹åºä¸æ“ä½œç³»ç»Ÿçš„äº¤äº’æ–¹å¼ã€‚**

### Unix 2.0ï¼šæ™ºèƒ½ä½“æ—¶ä»£çš„æ“ä½œå“²å­¦

ANEL å›å½’è®¡ç®—æœºç§‘å­¦æœ€æœ¬è´¨çš„æ¶æ„å“²å­¦ï¼šUnix å“²å­¦ã€‚å¯¹äºé¢„è®­ç»ƒè¿‡æµ·é‡ä»£ç çš„ LLM è€Œè¨€ï¼ŒShell è„šæœ¬ä¸ç®¡é“æ˜¯æ¯” JSON API æ›´è‡ªç„¶çš„"æ¯è¯­"ã€‚

- **æ™ºèƒ½ä½“å³æ“ä½œå‘˜ (Agent-as-Operator)**ï¼šAgent ç›´æ¥ååœ¨æ§åˆ¶å°å‰ï¼Œåƒäººç±»ç³»ç»Ÿç®¡ç†å‘˜ä¸€æ ·æ“ä½œä¼ä¸šçº§åŸå­å·¥å…·ã€‚å»ä¸­ä»‹åŒ–ï¼Œç›´æ¥æ§åˆ¶ã€‚
- **å·¥å…·å³è¯­è¨€ (Tools as Language)**ï¼š`qmd search "å¼‚å¸¸" | grep "critical"` ä¸ä»…æ˜¯å‘½ä»¤ï¼Œæ›´æ˜¯æ™ºèƒ½ä½“æ€è€ƒè¿‡ç¨‹çš„ç›´æ¥ä½“ç°ã€‚
- **å¯ä¾›æ€§ (Affordance)**ï¼šANEL è®© Agent é€šè¿‡ `--help`ã€`--emit-spec`ã€`--dry-run` å»ºç«‹å¿ƒæ™ºæ¨¡å‹ï¼Œè€Œéç›²ç›®å¡«å‚ã€‚

### äººä½“éšå–»

- **LLM** = å¤§è„‘ï¼ˆå†³ç­–ã€æ¨ç†ï¼‰
- **Agent Skills** = èŒä¸šæŠ€èƒ½ï¼ˆå·¥ä½œæµã€SOPï¼‰
- **ANEL** = æ‰‹å’Œè„šï¼ˆç²¾å‡†æ‰§è¡Œã€è§¦è§‰åé¦ˆï¼‰

### å››å¤§æ ¸å¿ƒç‰¹å¾

1. **åŸå­åŒ– (Atomicity)** â€” æœ€å°ç²’åº¦æ“ä½œï¼ˆ`è¯»å–`ã€`å†™å…¥`ã€`è®¡ç®—`ï¼‰ï¼Œè€Œéé»‘ç›’å¼ä¸šåŠ¡å‡½æ•°
2. **ç¡®å®šæ€§ (Determinism)** â€” ç»“æ„åŒ–è¾“å…¥/è¾“å‡ºæ¶ˆé™¤æ‰§è¡Œä¸­çš„å¹»è§‰é£é™©
3. **æµå¼åŸç”Ÿ (Streaming Native)** â€” ç®¡é“å¼æ•°æ®æµï¼Œè€Œéè¯·æ±‚-å“åº”ç­‰å¾…
4. **åŒæ¨¡æ€ I/O (Dual-Mode)** â€” äººç±»å¯è§†åŒ–ç›‘æ§ï¼ˆTTYï¼‰+ æ™ºèƒ½ä½“ç»“æ„åŒ–è¯»å–ï¼ˆNDJSONï¼‰

### æ¶æ„å…¨æ™¯ â€” ANEL åœ¨æŠ€æœ¯æ ˆä¸­çš„ä½ç½®

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              AI æ™ºèƒ½ä½“ (LLM å¤§è„‘)                     â”‚
â”‚         Claude Â· GPT Â· LLaMA Â· Gemini               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚  Function Calls / MCP / Skills
                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Agent Skills (ä¸šåŠ¡ç¼–æ’å±‚)                    â”‚
â”‚      LangChain Â· AutoGen Â· CrewAI Â· Custom          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚  å°è£… & é©±åŠ¨
                       â–¼
â”Œâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â”
â•‘        ANEL â€” æ™ºèƒ½ä½“åŸç”Ÿæ‰§è¡Œå±‚                        â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â” â•‘
â•‘  â”‚   ANID   â”‚ â”‚Hyper-Shellâ”‚ â”‚ Polyglot â”‚ â”‚ æ ‡å‡† â”‚ â•‘
â•‘  â”‚   åè®®   â”‚ â”‚   è¿è¡Œæ—¶   â”‚ â”‚   ç½‘å…³   â”‚ â”‚ å·¥å…· â”‚ â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜ â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                       â”‚  ç»“æ„åŒ– I/O (NDJSON)
                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   åŸºç¡€è®¾æ–½                            â”‚
â”‚   æ•°æ®åº“ Â· K8s Â· API Â· æ–‡ä»¶ç³»ç»Ÿ Â· IoT                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ANEL æ¶æ„ â€” å››å¤§å­ç³»ç»Ÿ

### 1. ANID åè®® (Agent-Native Interface Definition)

æ™ºèƒ½ä½“ä¸å·¥å…·ä¹‹é—´çš„"æ³•å¾‹æ¡æ¬¾"ã€‚ä¸ä»…å®šä¹‰è¾“å…¥/è¾“å‡ºï¼Œæ›´å®šä¹‰è¡Œä¸ºå¥‘çº¦ã€‚

**æ ¸å¿ƒåŸåˆ™ï¼š**
- **æ— çŠ¶æ€ (Stateless)**ï¼šæ¯æ¬¡è°ƒç”¨éƒ½æ˜¯ç‹¬ç«‹çš„è¿›ç¨‹æˆ– Wasm å®ä¾‹
- **åŒæµåˆ†ç¦» (Dual-Stream)**ï¼šSTDOUT = ä¸šåŠ¡æ•°æ®ï¼ˆNDJSONï¼‰ï¼ŒSTDERR = æ§åˆ¶é¢ï¼ˆRFC 7807ï¼‰
- **é›¶æ­§ä¹‰ (Zero-Ambiguity)**ï¼šç¦æ­¢è¾“å‡ºäººç±»å¯è¯»çš„æ¨¡ç³Šæ–‡æœ¬ï¼Œå¿…é¡»è¾“å‡ºç»“æ„åŒ–æ•°æ®

**å¿…éœ€æ§åˆ¶é¢å‚æ•°ï¼š**

| å‚æ•° | ç”¨é€” | è¡Œä¸º |
|------|------|------|
| `--emit-spec` | è‡ªçœ | å‘ STDOUT è¾“å‡º JSON Schema |
| `--dry-run` | é¢„æ¼” | æ‰§è¡Œæ£€æŸ¥ä½†ä¸äº§ç”Ÿå‰¯ä½œç”¨ï¼Œè¾“å‡ºå½±å“æŠ¥å‘Š |
| `--output-format` | æ ¼å¼ | æ¥å— `json`ã€`ndjson`ã€`text`ï¼Œé»˜è®¤ `ndjson` |

**ç¯å¢ƒå˜é‡ï¼ˆè¿è¡Œæ—¶æ³¨å…¥ï¼‰ï¼š**

| å˜é‡å | ç”¨é€” |
|--------|------|
| `AGENT_TRACE_ID` | åˆ†å¸ƒå¼è¿½è¸ªä¸å®¡è®¡ |
| `AGENT_IDENTITY_TOKEN` | ä¸‹æ¸¸ API é‰´æƒ |

**ç»“æ„åŒ–é”™è¯¯ + è‡ªæ„ˆå»ºè®®** â€”â€” å…³é”®åˆ›æ–°ï¼š

```json
{
  "error_code": "INVALID_INPUT",
  "status": 400,
  "message": "Invalid URL format provided",
  "severity": "error",
  "context": { "input": "google" },
  "recovery_hints": [
    { "code": "FIX_URL", "message": "URL å¿…é¡»ä»¥ 'http://' æˆ– 'https://' å¼€å¤´" }
  ]
}
```

å¯é‡è¯•é”™è¯¯ï¼š

```json
{
  "error_code": "BACKEND_UNAVAILABLE",
  "status": 503,
  "message": "è¿æ¥è¶…æ—¶ (5000ms)",
  "severity": "warning",
  "recovery_hints": [
    { "code": "RETRY", "message": "ç­‰å¾… 5 ç§’åé‡è¯•" },
    { "code": "INCREASE_TIMEOUT", "message": "ä½¿ç”¨ '--timeout 15' å¢åŠ è¶…æ—¶æ—¶é—´" }
  ]
}
```

**åŸå­èƒ½åŠ›å¥‘çº¦** â€”â€” éªŒè¯ ANID åˆè§„æ€§çš„æµ‹è¯•å›ºä»¶ï¼š

```
tests/fixtures/anel/
â”œâ”€â”€ introspection.yaml          # å·¥å…·æ¥å—ä»€ä¹ˆï¼ˆé™æ€å®šä¹‰ï¼‰
â”œâ”€â”€ success.ndjson              # å·²çŸ¥è¾“å…¥çš„é¢„æœŸè¾“å‡º
â”œâ”€â”€ error_invalid_arg.json      # è‡´å‘½é”™è¯¯ï¼šå‚æ•°ä¿®æ­£
â”œâ”€â”€ error_timeout.json          # å¯é‡è¯•é”™è¯¯ï¼šé‡è¯•æŒ‡å¯¼
â””â”€â”€ error_auth_fail.json        # é‰´æƒé”™è¯¯ï¼šå‡­è¯åˆ·æ–°
```

### 2. Hyper-Shellï¼ˆè¿è¡Œæ—¶ï¼‰

å¦‚æœ Bash/Zsh æ˜¯ä¸ºäººç±»è®¾è®¡çš„äº¤äº’ç¯å¢ƒï¼ŒHyper-Shell å°±æ˜¯ä¸“ä¸ºæ™ºèƒ½ä½“è®¾è®¡çš„åŸç”Ÿè¿è¡Œæ—¶ â€”â€” æ™ºèƒ½ä½“çš„"æ•°å­—å¤–éª¨éª¼"ã€‚

**å››é‡æ ¸å¿ƒå†…æ¶µï¼š**

1. **æé€Ÿå¯åŠ¨ (Hyper-Speed)**ï¼šRust å†…æ ¸ + Wasm æ’ä»¶ï¼ˆwasmtimeï¼‰ã€‚äºšæ¯«ç§’çº§å†·å¯åŠ¨ã€‚Agent çš„æ€ç»´é“¾æ°¸è¿œä¸ä¼šè¢«å·¥å…·å¯åŠ¨å»¶è¿Ÿé˜»æ–­ã€‚

2. **ç»“æ„åŒ–æµ (Hyper-Structured)**ï¼šNDJSON å¯¹è±¡æµå–ä»£ç®¡é“ä¸­çš„æ–‡æœ¬å­—èŠ‚ã€‚ä¿ç•™ Unix ç»„åˆæ€§ï¼Œå¼•å…¥ç±» SQL çš„ç±»å‹ç¡®å®šæ€§ã€‚Agent ç›´æ¥è§£æ `{"status": "ok"}` è€ŒéçŒœæµ‹ grep è¾“å‡ºã€‚

3. **é›¶ä¿¡ä»»æ²™ç®± (Hyper-Secure)**ï¼šWASI æ²™ç®±ï¼Œé»˜è®¤æ‹’ç»ä¸€åˆ‡æƒé™ã€‚æ’ä»¶æ²¡æœ‰ä»»ä½•æƒé™ï¼Œé™¤éæ˜¾å¼æˆæƒï¼ˆ`--allow-read=/tmp/logs`ï¼‰ã€‚å³ä½¿è¢«æ³¨å…¥ `rm -rf /` ä¹Ÿä¼šè¢«æ‹¦æˆªã€‚

4. **å…¨æ¯å¯è§‚æµ‹ (Hyper-Observable)**ï¼šæµå¼å®¡è®¡ï¼ˆStream Tapï¼‰æ¶æ„åœ¨ä¸å½±å“æ‰§è¡Œçš„å‰æä¸‹æ•è·æ‰€æœ‰ I/Oã€‚`AGENT_TRACE_ID` ä¼ æ’­å®ç°å…¨é“¾è·¯å®¡è®¡ã€‚æ¯ä¸€æ¬¡åŸå­æ“ä½œéƒ½å¯è¿½æº¯ã€‚

```
Hyper-Shell = Rust æ€§èƒ½ + Wasm å®‰å…¨ + NDJSON ç»“æ„åŒ– + Unix ç»„åˆæ€§
```

### 3. Polyglot Gatewayï¼ˆå¤šè¯­è¨€ç»Ÿä¸€ç½‘å…³ï¼‰

è¿æ¥ä¼ä¸šæ—§ä¸–ç•Œçš„"é€‚é…å™¨"ã€‚ä¼ä¸šæœ‰å¤§é‡çš„ Python è„šæœ¬ã€SQL æŸ¥è¯¢ã€Shell å‘½ä»¤ã€‚Gateway å°†å®ƒä»¬å°è£…æˆç¬¦åˆ ANID æ ‡å‡†çš„åŸå­èƒ½åŠ›ï¼Œæ— éœ€é‡å†™ â€”â€” è®©è€æ—§ç³»ç»Ÿç¬é—´å…·å¤‡"Agent Ready"çš„èƒ½åŠ›ã€‚

- Python/Go/Node.js SDK ä¸­çš„ `@anel.expose` è£…é¥°å™¨
- ä»ç°æœ‰å‡½æ•°ç­¾åè‡ªåŠ¨ç”Ÿæˆ ANID å…ƒæ•°æ®
- å°†æ—§å·¥å…·æ¡¥æ¥åˆ°ç»“æ„åŒ–çš„ ANEL ç”Ÿæ€

### 4. æ ‡å‡†å·¥å…·åº“

ä¼ä¸šçº§åŸå­èƒ½åŠ›åº“ã€‚å·¥å…·è®¾è®¡å¦‚ `curl` æˆ– `kubectl` â€”â€” é€šç”¨ã€è‡ªæ–‡æ¡£åŒ–ã€å¯ç»„åˆã€‚

æ¯ä¸ªå·¥å…·éƒ½é™„å¸¦å®Œæ•´çš„ ANID å¥‘çº¦ï¼ˆè‡ªçœå®šä¹‰ã€æˆåŠŸå›ºä»¶ã€é”™è¯¯å›ºä»¶ï¼‰ã€‚

---

## åŠ¨æ€è¿è¡Œæ¨¡å‹ â€” ä¸‰å±‚æ¶æ„

### L1 â€” å‘ç°å±‚ï¼š"æˆ‘çŸ¥é“ä»€ä¹ˆï¼Ÿ"

- Agent é€šè¿‡ `search-tools` æˆ– `apropos` æ¨¡ç³Šæœç´¢å·¥å…·
- é€šè¿‡ `--emit-spec` æˆ– `--help` åŠ¨æ€è·å–å·¥å…·ç”¨æ³•
- æŒ‰éœ€åŠ è½½ï¼ˆJust-in-Timeï¼‰çš„çŸ¥è¯†è·å–ï¼Œæ‰“ç ´ä¸Šä¸‹æ–‡çª—å£é™åˆ¶

### L2 â€” ç¼–æ’å±‚ï¼š"æˆ‘è¯¥å¦‚ä½•è§£å†³ï¼Ÿ"

- **äº¤äº’å¼æ¢ç´¢**ï¼šæ‰§è¡Œæ¢æµ‹å‘½ä»¤ï¼Œæ ¹æ®åé¦ˆå®æ—¶è°ƒæ•´ç­–ç•¥
- **åŠ¨æ€ç»„åˆ**ï¼šåˆ©ç”¨ç®¡é“å³æ—¶ç»„åˆåŸå­èƒ½åŠ›ï¼Œåˆ›é€ å¼€å‘è€…æœªæ›¾é¢„è®¾çš„å·¥ä½œæµ

### L3 â€” æ‰§è¡Œä¸åé¦ˆå±‚ï¼š"ç»“æœå¦‚ä½•ï¼Ÿ"

- é«˜æ€§èƒ½ Rust å†…æ ¸æ‰§è¡Œå‘½ä»¤
- **STDOUT**ï¼šä¸šåŠ¡æ•°æ®æµ
- **STDERR**ï¼šç»“æ„åŒ–çš„æœºå™¨å¯è¯»çŠ¶æ€ï¼ˆANID åè®®ï¼‰ï¼Œå½¢æˆé—­ç¯æ§åˆ¶

---

## ANEL ä¸ Agent Skills çš„å…³ç³»

**æ¦‚å¿µåˆ†ç•Œçº¿ï¼š**
- Agent Skills = "èœè°±"ï¼ˆå·¥ä½œæµé€»è¾‘ã€ä½•æ—¶ä½¿ç”¨ã€å‚æ•°å‡†å¤‡ï¼‰
- ANEL = "åˆ€å·¥å’Œç«å€™"ï¼ˆç²¾å‡†æ‰§è¡Œã€ç‰©ç†åé¦ˆï¼‰

Skills æ˜¯å¤§è„‘ä¸­çš„"ä½œæˆ˜è®¡åˆ’"ï¼ŒANEL æ˜¯æˆ˜åœºä¸Šæ‰§è¡Œè®¡åˆ’çš„"æœºæ¢°åŒ–éƒ¨é˜Ÿ"ã€‚é¢å¯¹æœªçŸ¥é—®é¢˜æ—¶ï¼ŒAgent æ—¢å¯ä»¥è°ƒç”¨ Skillsï¼ˆå›ºå®šæµç¨‹ï¼‰ï¼Œä¹Ÿå¯ä»¥è·³è¿‡ Skills ç›´æ¥æ“ä½œ ANEL åŸå­å·¥å…·è¿›è¡Œåˆ›é€ æ€§è§£å†³ã€‚

**ä»£ç çº§é›†æˆï¼š**

```python
class ServiceHealthCheckSkill(BaseTool):
    name = "service_health_check"
    description = "æŸ¥è¯¢æœåŠ¡å¥åº·çŠ¶æ€ã€‚è¾“å…¥å‚æ•°ä¸ºæœåŠ¡ URLã€‚"

    def _run(self, target_url: str) -> dict:
        # Skill (Python) é©±åŠ¨ ANEL (Rust CLI)
        cmd = ["qmd", "query", target_url,
               "--output-format", "ndjson"]
        result = subprocess.run(cmd, capture_output=True, text=True)
        if result.returncode != 0:
            error = json.loads(result.stderr)
            return f"æ‰§è¡Œå¤±è´¥: {error['message']}. å»ºè®®: {error['recovery_hints']}"
        return [json.loads(line) for line in result.stdout.splitlines()]
```

**éƒ¨ç½²æ¨¡å¼ï¼š**
- **CLI æ¨¡å¼**ï¼šå¼€å‘è°ƒè¯•ï¼Œ< 50 ä¸ª Agent
- **Server/Sidecar æ¨¡å¼**ï¼šç”Ÿäº§ç¯å¢ƒï¼Œ> 1000 ä¸ª Agentï¼ˆRust å¼‚æ­¥ + Wasm = 1 ä¸ªè¿›ç¨‹å¤„ç†æ•°åƒè¯·æ±‚ï¼‰

---

## æœ¬é¡¹ç›® â€” å‚è€ƒå®ç°

ä¸ºäº†éªŒè¯ ANEL çš„å¯è¡Œæ€§ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªçœŸå®çš„åº”ç”¨ä½œä¸ºå‚è€ƒå®ç°ã€‚æˆ‘ä»¬é€‰æ‹©äº† [Tobi LÃ¼tke](https://github.com/tobi) çš„ [qmd](https://github.com/tobi/qmd) ä½œä¸ºèµ·ç‚¹é¡¹ç›® â€”â€” ä¸€ä¸ªç²¾å·§çš„æœ¬åœ°æ–‡æ¡£æœç´¢å¼•æ“ï¼Œæ”¯æŒçŸ¥è¯†åº“ã€ä¼šè®®è®°å½•ç­‰åœºæ™¯ï¼Œè¿½è¸ªå½“å‰ SOTA æ–¹æ¡ˆä¸”å®Œå…¨æœ¬åœ°è¿è¡Œã€‚å®ƒç®€æ´çš„æ¶æ„å’ŒåŠ¡å®çš„è®¾è®¡ï¼Œä½¿å…¶æˆä¸ºå±•ç¤º ANEL æ¦‚å¿µçš„ç†æƒ³åŸºç¡€ã€‚

åœ¨ qmd çš„åŸºç¡€ä¸Šï¼Œæˆ‘ä»¬å°†å…¶æ‰©å±•ä¸ºå®Œæ•´çš„ **AI åŸç”Ÿæ–‡æ¡£æœç´¢å¼•æ“**ï¼Œæ”¯æŒæ··åˆ BM25 + å‘é‡æœç´¢ + LLM é‡æ’åºï¼Œå¹¶ä½¿ç”¨å››ç§è¯­è¨€ï¼ˆRustã€TypeScriptã€Goã€Pythonï¼‰é‡æ–°å®ç°ï¼Œå…±äº«åŒä¸€å¥— ANID åè®®ã€‚è¿™ä¹Ÿæ˜¯æ‰€æœ‰å®ç°ç›®å½•éƒ½å‘½åä¸º `qmd-*` çš„åŸå› ã€‚

ä¸ºä»€ä¹ˆé€‰æ‹©æœç´¢ï¼Ÿå› ä¸ºå®ƒæ˜¯æœ€å¸¸è§çš„æ™ºèƒ½ä½“å·¥å…·ï¼Œä¸”èƒ½å……åˆ†éªŒè¯ ANEL çš„æ‰€æœ‰ç‰¹æ€§ï¼šæµå¼è¾“å‡ºã€ç»“æ„åŒ–é”™è¯¯æ¢å¤ã€è‡ªçœã€é“¾è·¯è¿½è¸ªã€ç»„åˆæ€§ã€‚

---

## å››ç§å®ç° â€” å¯¹æ¯”

| ç‰¹æ€§ | Rust | TypeScript | Go | Python |
|---|---|---|---|---|
| ANID åè®® | å®Œæ•´ | å®Œæ•´ | å®Œæ•´ | å®Œæ•´ |
| `--emit-spec` / `--dry-run` | æ‰€æœ‰å‘½ä»¤ | æ‰€æœ‰å‘½ä»¤ | æ‰€æœ‰å‘½ä»¤ | æ‰€æœ‰å‘½ä»¤ |
| NDJSON æµå¼è¾“å‡º | âœ“ | âœ“ | âœ“ | âœ“ |
| RFC 7807 é”™è¯¯ + è‡ªæ„ˆå»ºè®® | âœ“ | âœ“ | âœ“ | âœ“ |
| é“¾è·¯è¿½è¸ª (`AGENT_TRACE_ID`) | âœ“ | âœ“ | âœ“ | âœ“ |
| BM25 æœç´¢ | SQLite FTS5 | SQLite FTS5 | SQLite FTS5 | SQLite FTS5 |
| å‘é‡æœç´¢ | sqlite-vec + LanceDB + Qdrant | sqlite-vec | sqlite-vec + Qdrant | sqlite-vec + LanceDB + Qdrant |
| æœ¬åœ° LLM | llama.cpp (GGUF) | node-llama-cpp | â€” | llama-cpp-python |
| è¿œç¨‹ LLM | OpenAI å…¼å®¹ | â€” | â€” | OpenAI å…¼å®¹ |
| MCP æœåŠ¡å™¨ | stdio + SSE | stdio | stdio | stdio |
| HTTP æœåŠ¡å™¨ | Axum (REST + Prometheus) | â€” | â€” | â€” |
| Wasm æ’ä»¶ç³»ç»Ÿ | wasmtime | â€” | â€” | â€” |
| å¯è§‚æµ‹æ€§ | Prometheus + tracing | â€” | â€” | â€” |
| è¾“å‡ºæ ¼å¼ | 7 ç§ (cli/json/ndjson/md/csv/xml/files) | 6 ç§ | 6 ç§ | 6 ç§ |
| è¿è¡Œæ—¶ | åŸç”ŸäºŒè¿›åˆ¶ | Bun | ç¼–è¯‘äºŒè¿›åˆ¶ | Python 3.10+ |
| æœ€é€‚åˆ | ç”Ÿäº§ç¯å¢ƒ / å‚è€ƒå®ç° | Web åŸå‹å¼€å‘ | åµŒå…¥å¼ / CLI | ML / æ•°æ®ç®¡é“ |

### Rustï¼ˆæ¨èï¼‰

å‚è€ƒå®ç°ã€‚å®Œæ•´ ANEL æ”¯æŒï¼ŒåŒ…æ‹¬ Wasm æ’ä»¶ç³»ç»Ÿã€å¸¦ Prometheus æŒ‡æ ‡çš„ HTTP æœåŠ¡å™¨ã€OpenTelemetry è¿½è¸ªã€‚åŸºäº `clap`ã€`rusqlite`ã€`rmcp`ã€`axum`ã€`wasmtime` æ„å»ºã€‚

### TypeScript

åŸºäº Bun è¿è¡Œæ—¶çš„è½»é‡å®ç°ã€‚ä½¿ç”¨ `node-llama-cpp` è¿›è¡Œæœ¬åœ°åµŒå…¥å’Œé‡æ’åºï¼Œ`@modelcontextprotocol/sdk` æä¾› MCP æ”¯æŒï¼Œ`sqlite-vec` è¿›è¡Œå‘é‡æœç´¢ã€‚é€‚åˆå¿«é€ŸåŸå‹å¼€å‘ã€‚

### Go

æœ€å°ä¾èµ–çš„ç¼–è¯‘äºŒè¿›åˆ¶ã€‚ä½¿ç”¨ `cobra` æ„å»º CLIï¼Œ`go-sqlite3` å­˜å‚¨ï¼Œ`go-client` è¿æ¥ Qdrantã€‚ç®€æ´ã€å¿«é€Ÿã€æ˜“éƒ¨ç½²ã€‚

### Python

ML å‹å¥½çš„å®ç°ã€‚ä½¿ç”¨ `typer`ã€`lancedb`ã€`qdrant-client`ï¼Œå¯é€‰ `llama-cpp-python`ã€‚é›†æˆ OpenAI å’Œ Anthropic APIã€‚æœ€é€‚åˆæ•°æ®ç§‘å­¦å·¥ä½œæµã€‚

---

## å¿«é€Ÿå¼€å§‹

<details>
<summary><b>Rustï¼ˆæ¨èï¼‰</b></summary>

```bash
# æ„å»º
cd src/qmd-rust
cargo build --release

# æ·»åŠ æ–‡æ¡£é›†åˆ
./target/release/qmd-rust collection add ~/Documents/notes --name mynotes --mask '**/*.md'

# ç´¢å¼•å’ŒåµŒå…¥
./target/release/qmd-rust update
./target/release/qmd-rust embed

# æœç´¢
./target/release/qmd-rust search "é”™è¯¯å¤„ç†"
./target/release/qmd-rust vsearch "å¦‚ä½•å¤„ç†é”™è¯¯"
./target/release/qmd-rust query "é”™è¯¯å¤„ç†æœ€ä½³å®è·µ"

# ANEL å®æˆ˜
./target/release/qmd-rust search --emit-spec          # è‡ªçœ
./target/release/qmd-rust search "test" --dry-run      # é¢„æ¼”
./target/release/qmd-rust search "test" --format ndjson # ç»“æ„åŒ–è¾“å‡º
```

</details>

<details>
<summary><b>TypeScript</b></summary>

```bash
# å®‰è£…
cd src/qmd-typescript
bun install
bun link  # å…¨å±€å®‰è£…ä¸º 'qmd' å‘½ä»¤

# æ·»åŠ æ–‡æ¡£é›†åˆ
qmd collection add ~/Documents/notes --name mynotes --mask '**/*.md'

# ç´¢å¼•å’ŒåµŒå…¥
qmd update
qmd embed

# æœç´¢
qmd search "é”™è¯¯å¤„ç†"
qmd vsearch "å¦‚ä½•å¤„ç†é”™è¯¯"
qmd query "é”™è¯¯å¤„ç†æœ€ä½³å®è·µ"

# ANEL å®æˆ˜
qmd search --emit-spec
qmd search "test" --dry-run
qmd search "test" --json   # æˆ– --csv, --md, --xml
```

</details>

<details>
<summary><b>Go</b></summary>

```bash
# æ„å»º
cd src/qmd-go
go build -o qmd ./cmd/qmd

# æ·»åŠ æ–‡æ¡£é›†åˆ
./qmd collection add ~/Documents/notes --name mynotes --mask '**/*.md'

# ç´¢å¼•å’ŒåµŒå…¥
./qmd update
./qmd embed

# æœç´¢
./qmd search "é”™è¯¯å¤„ç†"
./qmd vsearch "å¦‚ä½•å¤„ç†é”™è¯¯"
./qmd query "é”™è¯¯å¤„ç†æœ€ä½³å®è·µ"

# ANEL å®æˆ˜
./qmd search --emit-spec
./qmd search "test" --dry-run
./qmd search "test" --format ndjson
```

</details>

<details>
<summary><b>Python</b></summary>

```bash
# å®‰è£…
cd src/qmd-python
pip install -e .
# å¸¦æœ¬åœ° LLM æ”¯æŒï¼š
pip install -e ".[local]"

# æ·»åŠ æ–‡æ¡£é›†åˆ
python -m qmd_python collection add ~/Documents/notes --name mynotes --mask '**/*.md'

# ç´¢å¼•å’ŒåµŒå…¥
python -m qmd_python update
python -m qmd_python embed

# æœç´¢
python -m qmd_python search "é”™è¯¯å¤„ç†"
python -m qmd_python vsearch "å¦‚ä½•å¤„ç†é”™è¯¯"
python -m qmd_python query "é”™è¯¯å¤„ç†æœ€ä½³å®è·µ"

# ANEL å®æˆ˜
python -m qmd_python search --emit-spec
python -m qmd_python search "test" --dry-run
python -m qmd_python search "test" --format ndjson
```

</details>

---

## æœç´¢ç®¡é“æ¶æ„

```
                      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                      â”‚  æ™ºèƒ½ä½“æŸ¥è¯¢   â”‚
                      â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                 â–¼                       â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚  BM25 æœç´¢   â”‚       â”‚  å‘é‡æœç´¢     â”‚
         â”‚ (SQLite FTS5)â”‚       â”‚ (sqlite-vec) â”‚
         â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚                      â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â–¼
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚  RRF èåˆ (k=60)    â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â–¼
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚   LLM é‡æ’åº        â”‚
                â”‚  (æœ¬åœ° GGUF æ¨¡å‹)    â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â–¼
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚  NDJSON æµå¼è¾“å‡º     â”‚
                â”‚  (ANID åè®®)        â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**æ™ºèƒ½ä½“å·¥ä½œæµç¤ºä¾‹ï¼š**

```bash
# 1. å‘ç° â€” è¿™ä¸ªå·¥å…·èƒ½åšä»€ä¹ˆï¼Ÿ
$ qmd search --emit-spec
{"version":"1.0","command":"search","input_schema":{...},"output_schema":{...}}

# 2. é¢„æ¼” â€” ä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ
$ qmd search "æ•°æ®åº“è¿ç§»" --dry-run
{"dry_run":true,"would_search":"æ•°æ®åº“è¿ç§»","collections":["notes"],...}

# 3. æ‰§è¡Œ â€” è·å–ç»“æ„åŒ–æµå¼ç»“æœ
$ qmd query "æ•°æ®åº“è¿ç§»" --format ndjson
{"type":"result","seq":1,"payload":{"docid":"#a3f2c1","path":"docs/migration.md","score":0.92}}
{"type":"result","seq":2,"payload":{"docid":"#b7e4d9","path":"guides/db-setup.md","score":0.87}}

# 4. é”™è¯¯æ¢å¤ â€” æ™ºèƒ½ä½“è‡ªæ„ˆ
$ qmd search "test" --collection nonexistent
# STDERR:
{"error_code":"COLLECTION_NOT_FOUND","status":404,"message":"é›†åˆ 'nonexistent' ä¸å­˜åœ¨",
 "recovery_hints":[{"code":"LIST_COLLECTIONS","message":"è¿è¡Œ 'qmd collection list' æŸ¥çœ‹å¯ç”¨é›†åˆ"}]}
```

---

## MCP é›†æˆ

æ‰€æœ‰å®ç°éƒ½æš´éœ² MCP æœåŠ¡å™¨ï¼Œå¯æ— ç¼é›†æˆ Claude Desktopã€Claude Code åŠå…¶ä»– MCP å®¢æˆ·ç«¯ã€‚

**Claude Desktop / Claude Code é…ç½®ï¼š**

```json
{
  "mcpServers": {
    "qmd": {
      "command": "qmd",
      "args": ["mcp"]
    }
  }
}
```

**æš´éœ²çš„ MCP å·¥å…·ï¼š**

| å·¥å…· | æè¿° |
|------|------|
| `search` | BM25 å…¨æ–‡æœç´¢ |
| `vsearch` | å‘é‡è¯­ä¹‰æœç´¢ |
| `query` | æ··åˆæœç´¢ï¼ˆRRF èåˆ + é‡æ’åºï¼‰ |
| `get` | æŒ‰è·¯å¾„æˆ– docid è·å–æ–‡æ¡£ |
| `multi_get` | æŒ‰ glob æ¨¡å¼è·å–å¤šä¸ªæ–‡æ¡£ |
| `collection` | ç®¡ç†æ–‡æ¡£é›†åˆ |
| `status` | æ˜¾ç¤ºç´¢å¼•çŠ¶æ€ |

---

## è·¯çº¿å›¾

| é˜¶æ®µ | çŠ¶æ€ | æè¿° |
|------|------|------|
| Phase 0 | âœ… å®Œæˆ | ANID åè®®è§„èŒƒ (RFC) |
| Phase 1-3 | âœ… å®Œæˆ | å†…æ ¸éª¨æ¶ã€åŒæ¨¡æ€ I/Oã€Wasm å¼•æ“ã€æ’ä»¶ç³»ç»Ÿ |
| Phase 4-8 | âœ… å®Œæˆ | å®‰å…¨ï¼ˆWASI æ²™ç®±ï¼‰ã€å¯è§‚æµ‹æ€§ã€æœç´¢ç®¡é“ã€æ™ºèƒ½è·¯ç”± |
| Phase 9-12 | âœ… å®Œæˆ | LLM é‡æ’åºã€å¤šè¯­è¨€å®ç°ï¼ˆ4 ç§è¯­è¨€ï¼Œ100% åŠŸèƒ½å¯¹é½ï¼‰ |
| Phase 13 | ğŸ”„ è¿›è¡Œä¸­ | æ ‡å‡†å·¥å…·åº“ (std-fs, std-net, std-k8s) |
| Phase 14 | ğŸ“‹ è®¡åˆ’ä¸­ | æ¡†æ¶ SDKï¼ˆLangChainã€AutoGenã€CrewAI é€‚é…å™¨ï¼‰ |
| Phase 15 | ğŸ”® è¿œæœŸ | äº‘åŸç”Ÿï¼ˆK8s Operatorã€Sidecar æ¨¡å¼ã€è¿œç¨‹æ‰§è¡Œï¼‰ |

---

## é…ç½®

é»˜è®¤é…ç½®è·¯å¾„ï¼š`~/.config/qmd/index.yaml`

```yaml
bm25:
  backend: "sqlite_fts5"

vector:
  backend: "qmd_builtin"
  model: "embeddinggemma-300M"

collections:
  - name: "notes"
    path: "~/notes"
    pattern: "**/*.md"

models:
  embed:
    local: "embeddinggemma-300M"
  query:
    local: "qwen3"
  rerank:
    local: "qwen3-reranker"
```

---

## é¡¹ç›®ç»“æ„

```
qmd/
â”œâ”€â”€ docs/
â”‚   â””â”€â”€ ANEL/                    # ANEL æ¶æ„æ–‡æ¡£
â”‚       â”œâ”€â”€ â­ï¸ æ¶æ„å®£è¨€ v1.0     # æ ¸å¿ƒå®£è¨€
â”‚       â”œâ”€â”€ â­ï¸ ANID v1.0 RFC     # åè®®è§„èŒƒ
â”‚       â”œâ”€â”€ â­ï¸ Hyper-Shell        # è¿è¡Œæ—¶æ¶æ„
â”‚       â””â”€â”€ ...                   # å¥‘çº¦ã€è·¯çº¿å›¾ã€Skills å…³ç³»
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ qmd-rust/                # Rust â€” å‚è€ƒå®ç°
â”‚   â”‚   â””â”€â”€ src/
â”‚   â”‚       â”œâ”€â”€ anel/            # ANEL åè®®ï¼ˆé”™è¯¯ã€è§„æ ¼ã€è¿½è¸ªï¼‰
â”‚   â”‚       â”œâ”€â”€ cli/             # CLI å‘½ä»¤ + æ™ºèƒ½è·¯ç”±
â”‚   â”‚       â”œâ”€â”€ store/           # æœç´¢å¼•æ“ï¼ˆBM25 + å‘é‡ + RRFï¼‰
â”‚   â”‚       â”œâ”€â”€ llm/             # LLM è·¯ç”±å™¨ï¼ˆåµŒå…¥ã€é‡æ’åºã€æ‰©å±•ï¼‰
â”‚   â”‚       â”œâ”€â”€ mcp/             # MCP æœåŠ¡å™¨ï¼ˆstdio + SSEï¼‰
â”‚   â”‚       â”œâ”€â”€ server/          # HTTP æœåŠ¡å™¨ï¼ˆAxum + Prometheusï¼‰
â”‚   â”‚       â”œâ”€â”€ plugin/          # Wasm æ’ä»¶ç³»ç»Ÿï¼ˆwasmtimeï¼‰
â”‚   â”‚       â”œâ”€â”€ formatter/       # è¾“å‡ºæ ¼å¼ï¼ˆ7 ç§æ ¼å¼ï¼‰
â”‚   â”‚       â””â”€â”€ config/          # é…ç½®ç®¡ç†
â”‚   â”œâ”€â”€ qmd-typescript/          # TypeScript â€” Bun è¿è¡Œæ—¶
â”‚   â”œâ”€â”€ qmd-go/                  # Go â€” ç¼–è¯‘äºŒè¿›åˆ¶
â”‚   â””â”€â”€ qmd-python/              # Python â€” ML å‹å¥½
â””â”€â”€ README.md
```

---

## è‡´è°¢

- [qmd](https://github.com/tobi/qmd) by [Tobi LÃ¼tke](https://github.com/tobi) â€” æœ¬ ANEL å‚è€ƒå®ç°çš„èµ·ç‚¹é¡¹ç›®ã€‚æ„Ÿè°¢ Tobi çš„çµæ„Ÿä¸å‡ºè‰²çš„å·¥ä½œã€‚

## è®¸å¯è¯

MIT
