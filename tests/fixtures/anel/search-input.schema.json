{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "QMD Search Command Contract",
  "description": "Contract specification for qmd search (BM25) command",
  "type": "object",
  "required": ["query"],
  "properties": {
    "query": {
      "type": "string",
      "description": "Search query string"
    },
    "limit": {
      "type": "integer",
      "default": 20,
      "minimum": 1,
      "maximum": 1000,
      "description": "Maximum number of results to return"
    },
    "min_score": {
      "type": "number",
      "default": 0.0,
      "description": "Minimum BM25 score threshold"
    },
    "collection": {
      "type": "string",
      "description": "Specific collection to search"
    },
    "all": {
      "type": "boolean",
      "default": false,
      "description": "Search all collections"
    },
    "format": {
      "type": "string",
      "enum": ["cli", "json", "ndjson", "md", "csv", "files", "xml"],
      "default": "cli",
      "description": "Output format"
    },
    "emit_spec": {
      "type": "boolean",
      "default": false,
      "description": "Emit ANEL specification instead of executing"
    },
    "dry_run": {
      "type": "boolean",
      "default": false,
      "description": "Validate parameters without executing"
    }
  }
}
